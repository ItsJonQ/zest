/**
 * Zest v0.0.1
 * Copyright 2014. Jon Q
 * https://github.com/ItsJonQ/Zest
 * 2014-04-08
 */
!function(a,b,c){"use strict";var d=a,e=b,f=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,g=function(a){return new h(a)},h=function(a){return a?(this._create(a),this):!1};return h.prototype._addClass=function(a){if(!a)return this;var b,c=this;if(b=this.classList?function(a){c.classList.add(a)}:function(a){c.className+=" "+a},a instanceof Array)for(var d=0,e=a.length;e>d;d++)b(a[d]);else b(a);return this},h.prototype._create=function(a){if(!a)return!1;if(this._events={},this._memo={},this._listeners={},"string"==typeof a)return this._el=this._parseSelector(a),this.length=this._el.length,this;if(a instanceof h)return this._el=[a.els()],this.length=this._el.length,this;if(a instanceof Array){for(var b=[],c=0,d=a.length;d>c;c++)1===a[c].nodeType&&b.push(a[c]);return this._el=b,this.length=this._el.length,this}return a instanceof HTMLElement||a instanceof Node?(this._el=[a],this.length=this._el.length,this):a instanceof HTMLCollection?(this._el=this._toArray.call(a),this.length=this._el.length,this):this},h.prototype._onChange=function(a){var b=this._listeners[a];if(!b)return this;var c=b.length;if(c)for(var d=0;c>d;d++)b[d]();return this},h.prototype._parseSelector=function(a,b){var c=b?b:e,d=f.exec(a);return d?d[1]?[c.getElementById(d[1])]:d[2]?this._toArray.call(c.getElementsByTagName(a)):d[3]?[c.getElementsByClassName(d[3])]:[]:this._toArray.call(c.querySelectorAll(a))},h.prototype._parseTo=function(a,b){if(!a||!b||"string"!=typeof b)return!1;b=b.toLowerCase();var c;return c="array"===b?a.split(" "):!1},h.prototype._removeClass=function(a){if(!a)return this;var b,c=this;if(b=this.classList?function(a){c.classList.remove(a)}:function(){c.className=c.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")},a instanceof Array)for(var d=0,e=a.length;e>d;d++)b(a[d]);else b(a);return this},h.prototype._toArray=function(){for(var a=[],b=0,c=this.length;c>b;b++)a.push(this[b]);return a},h.prototype._visible=function(){var a=this.getBoundingClientRect();return a.top>=0&&a.left>=0&&a.bottom<=(d.innerHeight||e.documentElement.clientHeight)&&a.right<=(d.innerWidth||e.documentElement.clientWidth)},h.prototype.addClass=function(a){return a&&"string"==typeof a?(/( )/.test(a)&&(a=this._parseTo(a,"array")),this.forEach(function(b){this._addClass.call(b,a)}),this._onChange("addClass"),this):this},h.prototype.addEvent=function(a,b,c){return a&&"string"==typeof a&&b&&"function"==typeof b?(this.forEach(function(d){d in this._events||(this._events[d]={}),a in this._events[d]||(this._events[d][a]=[]),this._events[d][a].push([b,c]),d.addEventListener(a,b,c)}),this._onChange("addEvent"),this):this},h.prototype.append=function(a){return a&&"object"==typeof a?(this.each(function(){var b=a.cloneNode(!0);this.appendChild(b)}),this._onChange("append"),this):this},h.prototype.child=function(){var a=this.firstEl().children;if(a){var b=a[0],c=b.tagName.toLowerCase(),d=g(b);return d.selector=this.selector+" "+c,d}return this},h.prototype.children=function(){var a=this.firstEl().children;if(a){var b=a[0].tagName.toLowerCase(),c=g(a);return c.selector=this.selector+" "+b,c}return this},h.prototype.clientRect=function(){return this._el[0].getBoundingClientRect()},h.prototype.clone=function(){var a=g(this._el);return a.selector=this.selector,this._onChange("clone"),a},h.prototype.combine=function(){for(var a=Array.prototype.slice.call(arguments),b=[],c=0,d=a.length;d>c;c++)if("string"==typeof a[c])for(var e=this._parseSelector(a[c]),f=0,g=e.length;g>f;f++)b.push(e[f]);return this._el=this._el.concat(b),this.length=this._el.length,this._onChange("combine"),this},h.prototype.contains=function(a){if(!a||"string"!=typeof a)return!1;var b=!1;return this._parseSelector(a,this.firstEl()).length>0&&(b=!0),b},h.prototype.each=function(a){if(!a||"function"!=typeof a)return this;for(var b=0,c=this.length;c>b;b++)a.call(this._el[b],b,this._el[b]);return this},h.prototype.el=function(a){return a&&"number"==typeof a&&a<=this.length-1?this._el[a]:this._el[0]},h.prototype.els=function(a){return a&&"number"==typeof a&&a<=this.length-1?this._el[a]:this._el},h.prototype.empty=function(){return this.forEach(function(a){for(;a.firstChild;)a.removeChild(a.firstChild)}),this._onChange("empty"),this},h.prototype.filter=function(a){if(!a||"function"!=typeof a)return this;for(var b=[],c=0,d=this.length;d>c;c++){var e=this._el[c];a(e,c,this._el)&&b.push(e)}return this._el=b,this.length=this._el.length,this._onChange("filter"),this},h.prototype.find=function(a){if(!a)return this;var b=this.selector,c=[];this.forEach(function(b){for(var d=this._parseSelector(a,b),e=0,f=d.length;f>e;e++)c.push(d[e])});var d=g(c);return d.selector=b?b+" "+a:a,d},h.prototype.first=function(){var a=g(this._el[0]);return a.selector=this.selector,a},h.prototype.firstEl=function(){return this.el()},h.prototype.forEach=function(a){if(!a||"function"!=typeof a)return this;for(var b=0,c=this.length;c>b;b++)a.call(this,this._el[b],b);return this},h.prototype.getAttribute=function(a){return a&&"string"==typeof a?this._el[0].getAttribute(a):this},h.prototype.innerHTML=function(){return this.firstEl().innerHTML},h.prototype.inViewport=function(){return this._visible()},h.prototype.is=function(a){return!a||"object"!=typeof a||!a instanceof h?!1:this===a},h.prototype.hasClass=function(a){return a&&"string"==typeof a?this._el[0].classList.contains(a):this},h.prototype.hide=function(){return this.each(function(){this.style.display="none"}),this._onChange("hide"),this},h.prototype.html=function(a){return a||this.innerHTML(),this.forEach(function(b){b.innerHTML=a}),this},h.prototype.last=function(){var a=g(this._el[this.length-1]);return a.selector=this.selector,a},h.prototype.lastEl=function(){return this._el[this.length-1]},h.prototype.listen=function(a,b){return a&&"string"==typeof a&&b&&"function"==typeof b?(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push(b),this):this},h.prototype.next=function(){var a=this.nextEl();if(a){var b=g(a);return b.selector=this.selector,b}return this},h.prototype.nextEl=function(){return this.firstEl().nextElementSibling},h.prototype.outerHTML=function(){return this.firstEl().outerHTML},h.prototype.parent=function(){return g(this.parentEl())},h.prototype.parents=function(){return g(this.parentsEl())},h.prototype.parentEl=function(){return this.firstEl().parentNode},h.prototype.parentsEl=function(){var a=[];return this.each(function(b){a[b]=this.parentNode}),a},h.prototype.prepend=function(a){return a&&"object"==typeof a?(this.each(function(){var b=a.cloneNode(!0);this.insertBefore(b,this.firstChild)}),this._onChange("prepend"),this):this},h.prototype.previous=function(){var a=this.previousEl();if(a){var b=g(a);return b.selector=this.selector,b}return this},h.prototype.previousEl=function(){return this.firstEl().previousElementSibling},h.prototype.remove=function(){for(this.forEach(function(a){this.removeAllEvents(),a.parentNode.removeChild(a)});this._el.length>0;)this._el.shift();return this.length=0,this._onChange("remove"),this},h.prototype.removeAllEvents=function(){for(var a in this._events)for(var b in this._events[a])this.removeEvent(b);return this._onChange("removeAllEvents"),this},h.prototype.removeAttribute=function(a){return a&&"string"==typeof a?(this.forEach(function(b){b.removeAttribute(a)}),this._onChange("removeAttribute"),this):this},h.prototype.removeClass=function(a){return a&&"string"==typeof a?(/( )/i.test(a)&&(a=this.parseTo(a,"array")),this.forEach(function(b){this._removeClass.call(b,a)}),this._onChange("removeClass"),this):this},h.prototype.removeEvent=function(a,b,c){if(!a||"string"!=typeof a)return this;var d=this;return this.forEach(function(e){if(e in this._events){var f=this._events[e];if(a in f){for(var g=f[a],h=g.length;h--;){var i=g[h];b=b?b:i[0],c=c?c:i[1],e.removeEventListener(a,b,c)}setTimeout(function(){delete d._events[e][a]},16)}}}),this._onChange("removeEvent"),this},h.prototype.setAttribute=function(a,b){return a&&"string"==typeof a&&b&&"string"==typeof b?(this.forEach(function(c){c.setAttribute(a,b)}),this._onChange("setAttribute"),this):this},h.prototype.scrollIntoView=function(a){return a===c&&(a=!0),this._el[0].scrollIntoView(a),this},h.prototype.siblings=function(){var a=this.firstEl(),b=Array.prototype.filter.call(a.parentNode.children,function(b){return b!==a});if(b.length){var c=g(b);return c.selector=this.selector,c}return this},h.prototype.show=function(){return this.each(function(){this.style.display="inherit"}),this._onChange("listenable"),this},h.prototype.stopListening=function(a){if(!a||"string"!=typeof a)return this;var b=this._listeners[a];return b&&(b.length=0,delete this._listeners[a]),this},h.prototype.style=function(a,b){return a&&"string"==typeof a&&b?(this.el().style[a]!==c&&this.each(function(){this.style[a]=b}),this):this},h.prototype.text=function(a){return a&&"string"==typeof a?(this.firstEl().textContent=a,this):this.firstEl().textContent},h.prototype.toggle=function(){return this.forEach(function(a){a.style.display=a.clientHeight>0?"none":"inherit"}),this._onChange("toggle"),this},h.prototype.toggleClass=function(a){return a&&"string"==typeof a?(this.each(function(){this.classList.contains(a)?this.classList.remove(a):this.classList.add(a)}),this._onChange("toggleClass"),this):this},h.prototype.tojQuery=function(){return a.jQuery||"function"==typeof jQuery?$(this.els()):void 0},h.prototype.to$=function(){return this.tojQuery()},h.prototype.trigger=function(a){if(!a||"string"!=typeof a)return this;var c=b.createEvent("HTMLEvents");return c.initEvent(a,!0,!1),this.each(function(){this.dispatchEvent(c)}),this},a.Z$||(a.Z$=g),a.Zest||(a.Zest=h),g}(this,document);